(this["webpackJsonpiracing-rpm-viewer"]=this["webpackJsonpiracing-rpm-viewer"]||[]).push([[0],{140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(32),c=a.n(s),r=a(25),l=a(6),o=(a(90),a(68)),d=a.n(o),u=a(167),b=a(168),j=a(166),p=a(163),f=a(169),x=a(12),m=a(31),h=a.n(m),O=a(162),_=function(e){e/=10;var t=Object(O.a)({start:0,end:e});return"".concat(t.minutes,":").concat(String(t.seconds).padStart(2,"0"),".").concat(String(Math.round(e%1e3)).padEnd(4,"0"))},v=a(70),P=a.n(v),y=a(1),R=function(e){var t=e.data,a=Object(n.useState)([]),i=Object(l.a)(a,2),s=i[0],c=i[1],r=Object(n.useState)({yaxis:{labels:{formatter:_},min:88e4,max:96e4,tickAmount:8}}),o=Object(l.a)(r,2),d=o[0],u=o[1];return Object(n.useEffect)((function(){if(!(t.length<1)){var e=Object(x.a)(t).sort((function(e,t){return e.finish_position<t.finish_position?-1:1})),a=[];e.forEach((function(e){null!==e.best_lap&&a.push({x:"".concat(e.finish_position+1,". ").concat(e.name),y:[e.best_lap,e.quartile_1_lap,e.average_lap,e.quartile_3_lap,e.worst_lap]})})),c([{data:a}]),d.yaxis.min=1e4*Math.floor(t[0].best_lap/1e4),d.yaxis.max=d.yaxis.min+8e4,u(d)}}),[t]),Object(y.jsx)("div",{className:P.a.RPMBoxPlot,children:s.length>0?Object(y.jsx)(h.a,{options:d,series:s,type:"boxPlot",width:"100%"}):Object(y.jsx)(y.Fragment,{})})},g=a(71),M=a.n(g),S=function(e){var t=e.data,a=Object(n.useState)([]),i=Object(l.a)(a,2),s=(i[0],i[1]),c=Object(n.useState)({}),r=Object(l.a)(c,2),o=(r[0],r[1],[{name:"Website Blog",type:"column",data:t.map((function(e){return e.incidents}))},{name:"Social Media",type:"line",data:t.map((function(e){return e.incidents_per_lap}))}]),d={stroke:{width:[0,4]},title:{text:"Traffic Sources"},dataLabels:{enabled:!0,enabledOnSeries:[1]},labels:t.map((function(e){return e.name})),xaxis:{},yaxis:[{title:{text:"Website Blog"}},{opposite:!0,title:{text:"Social Media"}}]};return Object(n.useEffect)((function(){if(!(t.length<1)){var e=Object(x.a)(t).sort((function(e,t){return e.incidents<t.incidents?-1:1})),a=[];e.forEach((function(e){a.push({x:e.name,y:e.incidents})}));var n=[];e.forEach((function(e){n.push({x:e.name,y:e.incidents_per_lap})})),s([{type:"column",data:a},{type:"line",data:n,fillColor:"#330000"}]),console.log([{type:"column",data:a}])}}),[t]),Object(y.jsx)("div",{className:M.a.RPMIncidents,"data-testid":"RPMIncidents",children:t.length>0?Object(y.jsx)(h.a,{options:d,series:o,type:"line",width:"100%"}):Object(y.jsx)(y.Fragment,{})})},w=a(72),B=a.n(w),N={Gold:"#fff714",Silver:"#eeeeee",Bronze:"#ab7d00"},C=function(e){var t=e.data,a=e.lap_type,i=void 0===a?"best_lap":a,s=Object(n.useState)([]),c=Object(l.a)(s,2),r=c[0],o=c[1],d=Object(n.useState)({}),u=Object(l.a)(d,2),b=u[0],j=u[1];return Object(n.useEffect)((function(){if(!(t.length<1)){var e=Object(x.a)(t).sort((function(e,t){return e[i]<t[i]?-1:1})),a=[];e.forEach((function(e){null!==e[i]&&-1!==e[i]&&a.push({x:e.name,y:e[i],fillColor:N[e.class]})})),j(function(e){return{dataLabels:{formatter:_,style:{colors:["#333"]},offsetX:10},plotOptions:{bar:{horizontal:!0},grid:{show:!1,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}}},tooltip:{y:{formatter:_}},xaxis:{labels:{formatter:_},min:1e4*Math.floor(e[0][i]/1e4),max:1e4*Math.ceil(e.reduce((function(e,t){return e[i]>t[i]?e:t}))[i]/1e4),tickAmount:10},yaxis:{axisTicks:{show:!1}}}}(t)),o([{name:"Best lap",data:a,tooltip:{valueFormatter:_}}])}}),[t]),Object(y.jsx)("div",{className:B.a.RPMLapsBars,"data-testid":"RPMLapsBars",children:t.length>0?Object(y.jsx)(h.a,{options:b,series:r,type:"bar",width:"100%"}):Object(y.jsx)(y.Fragment,{})})},E=a(73),G=a(74),L=a.n(G),k=(a(134),a(135),function(e){var t=e.data,a=Object(n.useState)([{field:"finish_position",type:"numericColumn",headerName:"#",width:30,pinned:"left",valueGetter:function(e){var t=e.data.finish_position+1;return 1===t&&(t="\ud83c\udfc6"),t}},{field:"name (class #)",pinned:"left",valueGetter:function(e){var t=e.data.finish_position_in_class+1;return 1===t&&(t="\ud83c\udfc6"),"".concat(e.data.name," (").concat(t,")")}},{field:"best_lap",type:"numericColumn",headerName:"Best lap",valueFormatter:function(e){return _(e.value)}},{field:"best_qual_lap_time",type:"numericColumn",headerName:"Qualy",valueFormatter:function(e){return _(e.value)}},{field:"average_lap",type:"numericColumn",headerName:"Avg lap",valueFormatter:function(e){return _(e.value)}},{field:"incidents",type:"numericColumn"},{headerName:"Positions gained",type:"numericColumn",valueGetter:function(e){return e.data.starting_position-e.data.finish_position}},{field:"laps_complete",type:"numericColumn",headerName:"Laps completed"},{field:"class",filter:!0}]),i=Object(l.a)(a,1)[0];return Object(y.jsx)("div",{className:L.a.RPMResultsGrid,children:Object(y.jsx)("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:Object(y.jsx)(E.AgGridReact,{rowData:t,columnDefs:i})})})}),F=a(79),I=a(75),T=a.n(I),A=["children","value","index"],q=function(e){var t=e.children,a=e.value,n=e.index,i=Object(F.a)(e,A);return Object(y.jsx)("div",{className:T.a.RPMTabPanel,"data-testid":"RPMTabPanel",children:Object(y.jsx)("div",Object(r.a)(Object(r.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(y.jsx)(j.a,{sx:{p:3},children:t})}))})},W=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=i.a.useState(0),o=Object(l.a)(c,2),x=o[0],m=o[1];Object(n.useEffect)((function(){d.a.get("data.json").then((function(e){return s(e.data)}))}),[]);var h=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}};return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(u.a,{}),Object(y.jsxs)(b.a,{sx:{height:"100%"},children:[Object(y.jsxs)("h2",{children:[a.league_name," - ",a.track_name]}),Object(y.jsxs)(j.a,{sx:{width:"100%",height:"100%"},children:[Object(y.jsx)(j.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(y.jsxs)(p.a,{value:x,onChange:function(e,t){m(t)},"aria-label":"Race results tabs",children:[Object(y.jsx)(f.a,Object(r.a)({label:"Results"},h(0))),Object(y.jsx)(f.a,Object(r.a)({label:"Qualy laps"},h(1))),Object(y.jsx)(f.a,Object(r.a)({label:"Race laps"},h(2))),Object(y.jsx)(f.a,Object(r.a)({label:"Lap times distribution"},h(3))),Object(y.jsx)(f.a,Object(r.a)({label:"Incidents"},h(4)))]})}),Object(y.jsx)(q,{value:x,index:0,children:Object(y.jsx)(k,{data:a.drivers_statistics})}),Object(y.jsx)(q,{value:x,index:1,children:Object(y.jsx)(C,{data:a.drivers_statistics,lap_type:"best_qual_lap_time"})}),Object(y.jsx)(q,{value:x,index:2,children:Object(y.jsx)(C,{data:a.drivers_statistics})}),Object(y.jsx)(q,{value:x,index:3,children:Object(y.jsx)(R,{data:a.drivers_statistics})}),Object(y.jsx)(q,{value:x,index:4,children:Object(y.jsx)(S,{data:a.drivers_statistics})})]})]})]})},z=(a(140),document.getElementById("root"));c.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(W,{})}),z)},70:function(e,t,a){e.exports={RPMBoxPlot:"RPMBoxPlot_RPMBoxPlot__uN3Ca"}},71:function(e,t,a){e.exports={RPMIncidents:"RPMIncidents_RPMIncidents__4P6eV"}},72:function(e,t,a){e.exports={RPMLapsBars:"RPMLapsBars_RPMLapsBars__2inxn"}},74:function(e,t,a){e.exports={RPMResultsGrid:"RPMResultsGrid_RPMResultsGrid__317WZ"}},75:function(e,t,a){e.exports={RPMTabPanel:"RPMTabPanel_RPMTabPanel__1RPKo"}},90:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.fd07f13c.chunk.js.map